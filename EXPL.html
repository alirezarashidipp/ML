<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIRA Ticket Readability Evaluation Pipeline</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }

        /* Animations */
        .fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }

        /* Card Interactions */
        .pipeline-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .pipeline-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            border-color: #3b82f6;
        }

        /* JIRA Ticket Styles */
        .jira-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9em;
        }
        .jira-table th, .jira-table td {
            border: 1px solid #dfe1e6;
            padding: 8px;
            text-align: left;
        }
        .jira-table th {
            background-color: #f4f5f7;
            font-weight: 600;
            color: #172b4d;
        }
        .jira-link {
            color: #0052cc;
            text-decoration: none;
        }
        .jira-link:hover {
            text-decoration: underline;
        }
        
        /* Tab Active State */
        .tab-btn.active {
            border-bottom: 2px solid #0052cc;
            color: #0052cc;
            font-weight: 600;
        }
    </style>
</head>
<body class="min-h-screen text-slate-800">

    <!-- VIEW 1: MAIN PIPELINE -->
    <div id="pipeline-view" class="flex flex-col items-center justify-center min-h-screen p-6 w-full transition-opacity duration-500">
        
        <!-- Header -->
        <header class="text-center mb-12 fade-in-up">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4 tracking-tight">
                JIRA Ticket Readability <span class="text-blue-600">Evaluation Pipeline</span>
            </h1>
            <p class="text-lg text-slate-500 max-w-2xl mx-auto">
                An automated workflow transforming raw text into human-aligned readability scores.
            </p>
        </header>

        <div class="relative w-full max-w-6xl mx-auto">
            
            <!-- ROW 1 -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-16 relative">
                
                <!-- Card 1: Raw Tickets (Clickable) -->
                <div onclick="switchView('ticket-view')" class="pipeline-card fade-in-up delay-100 bg-white p-6 rounded-xl border border-slate-200 shadow-md relative z-10 flex flex-col items-center text-center h-full hover:ring-2 hover:ring-blue-400">
                    <div class="w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>
                    </div>
                    <h3 class="font-bold text-lg mb-2 text-slate-800">Raw JIRA Tickets</h3>
                    <p class="text-sm text-slate-500">Short, domain-specific issue descriptions and comments.</p>
                    <span class="mt-auto text-xs font-semibold text-blue-500 pt-2 bg-blue-50 px-3 py-1 rounded-full mt-2">Click to View Scenarios</span>
                </div>

                <!-- Card 2: Feature Extraction -->
                <div class="pipeline-card fade-in-up delay-200 bg-white p-6 rounded-xl border border-slate-200 shadow-md relative z-10 flex flex-col items-center text-center h-full cursor-default">
                    <div class="w-12 h-12 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
                    </div>
                    <h3 class="font-bold text-lg mb-2">Feature Extraction</h3>
                    <p class="text-sm text-slate-500">25 linguistic & readability features extracted per ticket.</p>
                </div>

                <!-- Card 3: Human Annotation -->
                <div class="pipeline-card fade-in-up delay-300 bg-white p-6 rounded-xl border border-slate-200 shadow-md relative z-10 flex flex-col items-center text-center h-full cursor-default">
                    <div class="w-12 h-12 bg-purple-50 text-purple-600 rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                    </div>
                    <h3 class="font-bold text-lg mb-2">Human Annotation</h3>
                    <div class="text-xs font-mono bg-slate-100 px-3 py-1 rounded text-slate-600 mt-1">
                        0 = Poor <br> 1 = Normal <br> 2 = Good
                    </div>
                </div>

                <!-- Card 4: Agreement Check -->
                <div class="pipeline-card fade-in-up delay-400 bg-blue-50 p-6 rounded-xl border-2 border-blue-200 shadow-sm relative z-10 flex flex-col items-center text-center h-full cursor-default">
                    <div class="w-12 h-12 bg-white text-blue-600 rounded-full flex items-center justify-center mb-4 shadow-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                    </div>
                    <h3 class="font-bold text-lg mb-2 text-blue-800">Agreement Check</h3>
                    <p class="text-sm text-blue-600">Krippendorff's Alpha</p>
                </div>
            </div>

            <!-- ROW 2 -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-3xl mx-auto mb-16 relative">
                <!-- Card 5: ML Model -->
                <div class="pipeline-card fade-in-up delay-500 bg-white p-8 rounded-xl border border-slate-200 shadow-lg relative z-10 flex flex-col items-center text-center cursor-default">
                    <div class="w-14 h-14 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
                    </div>
                    <h3 class="font-bold text-xl mb-2">ML Model: XGBoost</h3>
                    <p class="text-sm text-slate-500">Learns relation between features & perception.</p>
                </div>

                <!-- Card 6: Value Mapping -->
                <div class="pipeline-card fade-in-up delay-600 bg-white p-8 rounded-xl border border-slate-200 shadow-lg relative z-10 flex flex-col items-center text-center cursor-default">
                    <div class="w-14 h-14 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/></svg>
                    </div>
                    <h3 class="font-bold text-xl mb-2">Value Mapping</h3>
                    <p class="text-sm text-slate-500">Transforms probabilities into Score (0â€“100).</p>
                </div>
            </div>

            <!-- ROW 3 -->
            <div class="max-w-md mx-auto relative">
                <div class="pipeline-card fade-in-up delay-700 bg-gradient-to-br from-blue-600 to-indigo-700 text-white p-8 rounded-2xl shadow-xl relative z-10 flex flex-col items-center text-center cursor-default">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                    </div>
                    <h3 class="font-bold text-2xl mb-2">Final Output</h3>
                    <p class="text-blue-100">Human-aligned Readability Score</p>
                </div>
            </div>
        </div>
    </div>


    <!-- VIEW 2: TICKET DETAILS (Initially Hidden) -->
    <div id="ticket-view" class="hidden min-h-screen bg-white flex flex-col">
        
        <!-- Navbar -->
        <div class="border-b border-gray-200 px-8 py-4 flex items-center justify-between sticky top-0 bg-white z-20">
            <button onclick="switchView('pipeline-view')" class="flex items-center text-slate-600 hover:text-blue-600 transition-colors font-medium">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                </svg>
                Back to Pipeline
            </button>
            <div class="text-lg font-bold text-slate-800">Raw Data Inspection: PROJ-1024</div>
        </div>

        <!-- Content Area -->
        <div class="flex-grow p-8 bg-slate-50 flex justify-center fade-in">
            <div class="w-full max-w-4xl bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                
                <!-- Tabs -->
                <div class="flex border-b border-gray-200 bg-gray-50 flex-wrap">
                    <button onclick="showTab('scenario-1', this)" class="tab-btn active px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 focus:outline-none transition-colors">Scenario 1: JIRA Front-End</button>
                    <button onclick="showTab('scenario-2', this)" class="tab-btn px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 focus:outline-none transition-colors">Scenario 2: JIRA Markup</button>
                    <button onclick="showTab('scenario-3', this)" class="tab-btn px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 focus:outline-none transition-colors">Scenario 3: Clean Text</button>
                    <button onclick="showTab('scenario-4', this)" class="tab-btn px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 focus:outline-none transition-colors">Scenario 4: Grammar Check</button>
                </div>

                <!-- Tab Content 1: Visual -->
                <div id="scenario-1" class="tab-content p-8">
                    <div class="border border-gray-200 rounded p-6 bg-white">
                        <!-- Intentionally missing period for Scenario 4 fix -->
                        <h2 class="text-xl font-semibold text-[#172b4d] mb-4">As a developer, I want to add a robust logging feature</h2>
                        <div class="text-[#172b4d] text-base space-y-4">
                            <!-- Intentionally misspelled 'loging' for Scenario 4 fix -->
                            <p>We need to implement <strong>structured loging</strong> across the authentication service. This will help us debug issues in production more effectively.</p>
                            
                            <p>The logs should include timestamp, user ID, and request latency. <span style="color: #d04437; font-weight: bold;">Critical: Do not log passwords!</span></p>

                            <h4 class="font-bold mt-4 text-sm uppercase text-gray-500">Acceptance Criteria</h4>
                            <table class="jira-table">
                                <thead>
                                    <tr>
                                        <th>Requirement</th>
                                        <th>Priority</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>JSON Format Output</td>
                                        <td>High</td>
                                        <td>Pending</td>
                                    </tr>
                                    <tr>
                                        <td>PII Masking</td>
                                        <td>Critical</td>
                                        <td>In Review</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="mt-6 pt-4 border-t border-gray-100 text-sm">
                                <span class="font-semibold">Contact Owner:</span> 
                                <a href="mailto:ali@example.com" class="jira-link">ali@example.com</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Content 2: JIRA Markup -->
                <div id="scenario-2" class="tab-content hidden p-0 bg-[#282c34]">
                    <pre class="p-6 overflow-x-auto text-sm font-mono text-gray-300 leading-relaxed">
h2. As a developer, I want to add a robust logging feature
We need to implement *structured loging* across the authentication service.

The logs should include timestamp, user ID. {color:#d04437}Critical: Do not log passwords!{color}

||Requirement||Priority||
|JSON Format Output|High|

[Contact|mailto:ali@example.com]</pre>
                </div>

                <!-- Tab Content 3: Clean Text (Dirty) -->
                <div id="scenario-3" class="tab-content hidden p-8 bg-white">
                    <div class="font-mono text-sm text-slate-700 whitespace-pre-wrap leading-7 bg-slate-50 p-6 rounded border border-slate-200">
As a developer, I want to add a robust logging feature

We need to implement structured loging across the authentication service. This will help us debug issues in production more effectively.

The logs should include timestamp, user ID, and request latency. Critical: Do not log passwords!

Acceptance Criteria:
Requirement: JSON Format Output, Priority: High, Status: Pending
Requirement: PII Masking, Priority: Critical, Status: In Review

Contact Owner: ali@example.com
                    </div>
                </div>

                <!-- Tab Content 4: Grammar Check (Corrected) -->
                <div id="scenario-4" class="tab-content hidden p-8 bg-white">
                    <div class="font-mono text-sm text-slate-700 whitespace-pre-wrap leading-7 bg-green-50 p-6 rounded border border-green-200 relative">
                        <div class="absolute top-2 right-2 bg-green-200 text-green-800 text-xs px-2 py-1 rounded font-semibold">Verified</div>
As a developer, I want to add a robust logging feature.

We need to implement structured logging across the authentication service. This will help us debug issues in production more effectively.

The logs should include timestamp, user ID, and request latency. Critical: Do not log passwords!

Acceptance Criteria:
Requirement: JSON Format Output, Priority: High, Status: Pending
Requirement: PII Masking, Priority: Critical, Status: In Review

Contact Owner: ali@example.com
                    </div>
                    <div class="mt-4 text-sm text-slate-500">
                        <span class="font-semibold text-green-600">Corrections applied:</span>
                        <ul class="list-disc ml-5 mt-1">
                            <li>Added missing period to title.</li>
                            <li>Corrected spelling: "loging" &rarr; "logging".</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- JavaScript for Interaction -->
    <script>
        function switchView(viewId) {
            const pipeline = document.getElementById('pipeline-view');
            const ticket = document.getElementById('ticket-view');

            if (viewId === 'ticket-view') {
                pipeline.classList.add('hidden');
                ticket.classList.remove('hidden');
                window.scrollTo(0, 0);
            } else {
                ticket.classList.add('hidden');
                pipeline.classList.remove('hidden');
            }
        }

        function showTab(tabId, btn) {
            // Hide all contents
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active', 'border-b-2', 'border-blue-600', 'text-blue-600'));
            
            // Show selected content
            document.getElementById(tabId).classList.remove('hidden');
            
            // Highlight selected button
            btn.classList.add('active');
        }
    </script>
</body>
</html>
